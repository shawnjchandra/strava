<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Race Details - Mountain Trail Challenge</title>
    <link rel="stylesheet" th:href="@{/css/navbar.css}">
    <link rel="stylesheet" th:href="@{/css/sidebar.css}">

    <link rel="stylesheet" th:href="@{/css/race/challenge.css}">
</head>
<body>
    <th:block th:replace="~{/layout/navbar :: navbar}"></th:block>

    
    <div class="page-container">
        
        <th:block th:replace="~{/layout/sidebar :: sidebar}"></th:block>

        
        
        <div class="main-content">
            <div class="container">
                <div class="header">
                    <h1>Mountain Trail Challenge</h1>
                    <span class="status-badge">Active</span>
                </div>

                <div class="description">
                    <p>An exhilarating mountain trail run through the scenic alpine landscapes. Challenge yourself on this 21km route with breathtaking views and challenging terrain.</p>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <h2>Race Details</h2>
                        <div class="info-row">
                            <span class="label">Distance:</span>
                            <span class="value" th:text="${race.jarak}">21 km</span>
                        </div>
                        <div class="info-row">
                            <span class="label">Date:</span>
                            <span class="value" th:text="${race.createdAt}">July 15, 2023</span>
                        </div>
    
                        <div class="info-row">
                            <span class="label">Max Participants:</span>
                            <span class="value" th:text="${race.kuota_max}">145/200</span>
                        </div>
                    </div>

                    <div class="info-card">
                        <h2>Registration</h2>
                        <!-- <div class="info-row">
                            <span class="label">Entry Fee:</span>
                            <span class="value" th:text="${race.}">$50</span>
                        </div> -->
                        <div class="info-row">
                            <span class="label">Deadline:</span>
                            <span class="value" th:text="${race.durasi}">June 30, 2023</span>
                        </div>
                        <div class="info-row">
                            <span class="label">Category:</span>
                            <span class="value" th:text="${race.tipeRace}">Trail Running</span>
                        </div>
                        
                    </div>
                </div>

                <div class="upload-section">
                    <div class="upload-grid">
                        <!-- Submit Race Evidence Form -->
                        <div class="upload-form">
                            <h2>Submit Race Evidence</h2>
                            <form th:action="@{/race/upload}" method="post" enctype="multipart/form-data">
                                <div class="file-input-container">
                                    <input type="file" name="raceFile" accept=".gpx,.tcx,.fit" required>
                                    <button type="submit" class="upload-button">Upload Race File</button>
                                </div>
                                <p class="file-types">Accepted file types: .gpx, .tcx, .fit</p>
                            </form>
                        </div>
                
                        <!-- "OR" Text -->
                        <div class="or-text">
                            <p>OR</p>
                        </div>
                
                        <!-- Choose from Available Activities Form -->
                        <div class="take-from-available-activity">
                            <h2>Choose from Available Activities</h2>
                            <form th:action="@{/race/selectActivity}" method="post">
                                <div class="dropdown-container">
                                    <label for="activity">Select an activity:</label>
                                    <select name="activityId" id="activity" required>
                                        <option value="" disabled selected>Select an activity</option>
                                        <option th:each="activity : ${availableActivities}" 
                                                th:value="${activity.idActivity}" 
                                                th:text="${activity.judul + ' - ' + activity.jarak + ' km'}">
                                            Activity Name
                                        </option>
                                    </select>
                                </div>
                                <button type="submit" class="select-button">Submit</button>
                            </form>
                        </div>
                    </div>
                </div>
                
                
            </div>
        </div>
    </div>

</body>
</html>